# Set your GitHub access token
GITHUB_ACCESS_TOKEN="YOUR_ACCESS_TOKEN"

# The owner and name of the repository
REPO_OWNER="victorcodes@gmail"
REPO_NAME="alx-pre_course"

# The file you want to update
FILE_PATH="README.md"

# The updated content for the README.md file
NEW_CONTENT="# My Updated README\nThis is the new content of the README file."

# Base API URL for the repository
BASE_URL="https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}"

# Get the current commit SHA of the file
SHA=$(curl -s -H "Authorization: token $GITHUB_ACCESS_TOKEN" "${BASE_URL}/contents/${FILE_PATH}" | jq -r '.sha')

# Create the commit payload
COMMIT_PAYLOAD=$(cat <<EOF
{
  "message": "Update README.md",
  "content": "$(echo -n "$NEW_CONTENT" | base64 -w 0)",
  "sha": "${SHA}"
}
EOF
)

# Update the file using the GitHub API
curl -X PUT -H "Authorization: token $GITHUB_ACCESS_TOKEN" -d "$COMMIT_PAYLOAD" "${BASE_URL}/contents/${FILE_PATH}"

